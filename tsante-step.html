<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="tsante-step">

  <template>
    <style>
      :host {
        display: flex;
        flex-direction: column;
      }
      * {
        user-select: none;
        -khtml-user-select: none;
        -o-user-select: none;
        -moz-user-select: -moz-none;
        -webkit-user-select: none;
      }
      div.container {
        display: flex;
        flex-direction: row;
        align-items: center;
      }
      
      .circle {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        margin-right: 15px;
        
        display: flex;
        align-items: center;
        justify-content: center;
        
        font-size: 24px;
        
        background: #ddd;
        color: #555;
        
      }
      
      :host([selected]) .circle {
      }
      :host(:not([selected])) .circle {
      }
      
      :host(:first-child) > div.connector#before, :host(:last-child) > div.connector#after {
        display: none;
      }
      
      div.connector#before {
        margin-bottom: 5px;
      }
      div.connector#after {
        margin-top: 5px;
      }
      
      div.connector {
        margin-left: 21px;
        height:10px;
        width: 1px;
        background: #dbdbdb;
      }
    </style>
    
    <div id="before" class="connector"></div>
    <div class="container" on-click="select">
      <div class="circle">{{label}}</div>
      <slot></slot>
    </div>
    <div id="after" class="connector"></div>
    
  </template>

  <script>
    class TsanteStep extends Polymer.Element {
      static get is() {
        return 'tsante-step';
      }
      static get properties() {
        return {
          label: {
            type: String,
            value: ''
          },
          selected: {
            type: Boolean,
            value: false,
            reflectToAttribute: true
          }
        }
      }
      constructor() {
        super();
      }
      select() {
        const selectedEvt = new CustomEvent('tsante-step-click', { detail: this, bubbles: true, composed: true })
        this.dispatchEvent(selectedEvt)
      }
    }
    customElements.define(TsanteStep.is, TsanteStep);
  </script>

</dom-module>
